{"version":3,"file":"static/js/6010.10742cdb.chunk.js","mappings":"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","sources":["pages/map-type-control/index.tsx","components/Footer/index.tsx","components/Markdown/Hyperlink.tsx","components/Markdown/index.tsx"],"sourcesContent":["import Markdown from '../../components/Markdown';\nimport './index.css';\n\nexport default class Page extends Markdown {\n  editorUrl = '/packages/map-type-control/README.md';\n  getMdStr = () => import('@uiw/react-amap-map-type-control/README.md');\n}\n","import styled from 'styled-components';\n\nconst Wrapper = styled.div`\n  padding: 20px 23px 60px 23px;\n  a {\n    color: #ced1d4;\n    text-decoration: none;\n    transition: color 0.3s;\n    margin: 0 3px;\n    &:hover {\n      color: black;\n    }\n    & + a {\n      margin-left: 10px;\n    }\n    &::after {\n      content: ' ';\n      height: 13px;\n      width: 1px;\n      margin-left: 10px;\n      display: inline-block;\n      vertical-align: middle;\n      background-color: #e5e9ec;\n    }\n    &:last-child::after {\n      display: none;\n    }\n  }\n`;\n\ntype FooterProps = {\n  editorUrl?: string;\n};\n\nconst Footer = (props: FooterProps) => {\n  const { editorUrl } = props || {};\n  return (\n    <Wrapper>\n      {editorUrl && (\n        <a\n          title=\"Editor Current Page\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n          href={`https://github.com/uiwjs/react-amap/edit/master${editorUrl}`}\n        >\n          编辑当前页面\n        </a>\n      )}\n      <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/uiwjs/react-amap/issues/new\">\n        提交 Bug\n      </a>\n      <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/uiwjs/react-amap\">\n        GitHub\n      </a>\n      <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/kktjs/kkt\">\n        kkt\n      </a>\n      <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/uiwjs/uiw\">\n        uiwjs\n      </a>\n      <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/uiwjs/react-baidu-map\">\n        百度地图 React 版本\n      </a>\n    </Wrapper>\n  );\n};\n\nexport default Footer;\n","import React, { useEffect, useRef } from 'react';\nimport { styled } from 'styled-components';\n\ntype HeadingType = { id: string; text: string; level: number };\nfunction useHeadings(mdStr?: string) {\n  const [headings, setHeadings] = React.useState<HeadingType[]>([]);\n  React.useEffect(() => {\n    const elements = Array.from(document.querySelectorAll('h2, h3, h4, h5, h6'))\n      .filter((element) => element.id)\n      .map((element) => ({\n        id: element.id,\n        text: element.textContent ?? '',\n        level: Number(element.tagName.substring(1)),\n      }));\n    setHeadings(elements);\n  }, [mdStr]);\n  return headings;\n}\n\nfunction useScrollSpy(ids: string[], options: IntersectionObserverInit) {\n  const [activeId, setActiveId] = React.useState<string>();\n  const observer = React.useRef<IntersectionObserver>();\n  React.useEffect(() => {\n    const elements = ids.map((id) => document.getElementById(id));\n    observer.current?.disconnect();\n    observer.current = new IntersectionObserver((entries) => {\n      entries.forEach((entry) => {\n        if (entry?.isIntersecting) {\n          setActiveId(entry.target.id);\n        }\n      });\n    }, options);\n    elements.forEach((el) => {\n      if (el) {\n        observer.current?.observe(el);\n      }\n    });\n    return () => observer.current?.disconnect();\n  }, [ids, options]);\n  return activeId;\n}\n\nconst Nav = styled.nav`\n  ul,\n  ul li {\n    list-style: none;\n    padding-left: 0;\n  }\n`;\n\nconst Aside = styled.aside`\n  position: sticky;\n  right: 0;\n  top: 0px;\n  z-index: 999;\n  max-height: calc(100vh - 6px);\n  overflow: auto;\n  li {\n    height: 22px;\n    line-height: 22px;\n  }\n  .active::before {\n    content: ' ';\n    display: block;\n    background-color: #f38701;\n    border-radius: 2px;\n    height: 18px;\n    margin-top: 3px;\n    position: absolute;\n    transition: top 0.3s;\n    width: 5px;\n  }\n`;\n\nexport function useHyperClickToTop(props: { dom: HTMLElement | null; mdStr: string | undefined }) {\n  const { dom, mdStr } = props;\n  useEffect(() => {\n    const doms = dom?.querySelectorAll<HTMLAnchorElement>('a.anchor[href^=\"#\"]');\n    if (doms && doms.length > 0) {\n      doms.forEach((elm) => {\n        elm.onclick = (e: MouseEvent) => {\n          e.preventDefault();\n          const id = elm.parentElement!.id;\n          if (id) {\n            document.querySelector(`#${id}`)?.scrollIntoView({\n              behavior: 'smooth',\n            });\n          }\n        };\n      });\n    }\n  }, [dom, mdStr]);\n}\n\nexport const Hyperlink = ({ dom, mdStr }: any) => {\n  useHyperClickToTop({ dom: dom, mdStr });\n  const $dom = useRef<HTMLElement>(null);\n  const headings = useHeadings(mdStr);\n  const activeId = useScrollSpy(\n    headings.map(({ id }) => id),\n    {\n      rootMargin: '0% 0% -50% 0%',\n      threshold: 1,\n    },\n  );\n  return (\n    <Nav ref={$dom} className=\"toc\">\n      <Aside>\n        <h2>目录</h2>\n        <ul>\n          {headings.map((heading) => (\n            <li key={heading.id} className={activeId === heading.id ? 'active' : ''}>\n              <a\n                style={{\n                  marginLeft: `${heading.level - 2}em`,\n                  fontWeight: activeId === heading.id ? 'bold' : 'normal',\n                }}\n                href={`#${heading.id}`}\n                onClick={(e) => {\n                  e.preventDefault();\n                  console.log('heading.id', activeId, heading.id);\n                  document.querySelector(`#${heading.id}`)?.scrollIntoView({\n                    behavior: 'smooth',\n                  });\n                }}\n              >\n                {heading.text}\n              </a>\n            </li>\n          ))}\n        </ul>\n      </Aside>\n    </Nav>\n  );\n};\n","import { useEffect, useState, useRef, Component } from 'react';\nimport MarkdownPreviewExample from '@uiw/react-markdown-preview-example/markdown';\nimport type { CodeBlockData } from 'markdown-react-code-preview-loader';\nimport styled from 'styled-components';\nimport BackToUp from '@uiw/react-back-to-top';\nimport Footer from '../Footer';\nimport { Hyperlink } from './Hyperlink';\n\nconst Wrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  position: relative;\n`;\n\nconst MarkdownPreview = styled(MarkdownPreviewExample)`\n  max-width: none;\n  margin: inherit;\n  box-shadow: 0 0 0;\n  border: 0;\n  pre[data-type='rehyp'] {\n    overflow: initial;\n  }\n`;\n\nconst Main = styled.main`\n  padding: 20px 30px 120px 30px;\n  display: grid;\n  grid-template-columns: minmax(0, 3.5fr) 240px;\n  grid-template-areas: 'main toc';\n  border: 0;\n  &::after,\n  &::before {\n    content: none;\n  }\n`;\n\ninterface MarkdownProps {\n  path?: () => Promise<{ default: CodeBlockData }>;\n  editorUrl?: string;\n}\n\nfunction MarkdownInstance(props: MarkdownProps) {\n  const $dom = useRef<any>(null);\n  const [mdStr, setMdStr] = useState('');\n  const [data, setData] = useState<CodeBlockData>();\n  const path = props.path;\n  useEffect(() => {\n    if (path) {\n      path().then((str) => {\n        setMdStr(str.default.source);\n        setData(str.default);\n      });\n    }\n  }, [path]);\n  return (\n    <Wrapper ref={$dom}>\n      {mdStr && (\n        <Main>\n          <MarkdownPreview source={mdStr || ''} data={data!} />\n          <Hyperlink dom={$dom.current} mdStr={mdStr} />\n        </Main>\n      )}\n      <BackToUp style={{ float: 'right' }}>Top</BackToUp>\n      <Footer editorUrl={props.editorUrl} />\n    </Wrapper>\n  );\n}\n\nexport default class Markdown extends Component<MarkdownProps> {\n  editorUrl?: string;\n  getMdStr?: () => Promise<{ default: CodeBlockData }>;\n  componentDidMount() {\n    if (this.getMdStr) {\n      this.getMdStr().then((str) => {\n        this.setState({\n          data: str.default,\n          mdStr: str.default.source,\n        });\n      });\n    }\n  }\n  render() {\n    return <MarkdownInstance path={this.getMdStr} editorUrl={this.editorUrl} />;\n  }\n}\n"],"names":["Page","Markdown","constructor","arguments","editorUrl","getMdStr","Wrapper","styled","div","props","_jsxs","children","_jsx","title","target","rel","href","Nav","nav","Aside","aside","Hyperlink","_ref","dom","mdStr","useEffect","doms","querySelectorAll","length","forEach","elm","onclick","e","preventDefault","id","parentElement","_document$querySelect","document","querySelector","scrollIntoView","behavior","useHyperClickToTop","$dom","useRef","headings","setHeadings","React","elements","Array","from","filter","element","map","_element$textContent","text","textContent","level","Number","tagName","substring","useHeadings","activeId","ids","options","setActiveId","observer","_observer$current","getElementById","current","disconnect","IntersectionObserver","entries","entry","isIntersecting","el","_observer$current2","observe","_observer$current3","useScrollSpy","_ref2","rootMargin","threshold","ref","className","heading","style","marginLeft","fontWeight","onClick","_document$querySelect2","console","log","MarkdownPreview","MarkdownPreviewExample","Main","main","MarkdownInstance","setMdStr","useState","data","setData","path","then","str","default","source","BackToUp","float","Footer","Component","componentDidMount","this","setState","render"],"sourceRoot":""}